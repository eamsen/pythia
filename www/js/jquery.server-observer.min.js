(function(a){var b,d="unknown";a.serverObserver={enable:function(c){a(document).on("ajaxSuccess.serverObserver",function(a,e,b){!b.crossDomain&&"online"!=d&&(d="online",c.onServerOnline.apply(e))});a(document).on("ajaxError.serverObserver",function(a,b,f){!f.crossDomain&&"offline"!=d&&(d="offline",c.onServerOffline.apply(b))});c.url&&function e(){b=setTimeout(function(){a.ajax({url:c.url,type:c.method||"HEAD",complete:e})},c.frequency||3E3)}()},disable:function(){b&&clearTimeout(b);a(window).off(".serverObserver")},isServerOnline:function(){return"online"===d}}})(jQuery);